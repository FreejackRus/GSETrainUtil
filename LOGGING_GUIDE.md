# Руководство по логгированию ошибок

## Добавленное логгирование для ошибки "Error creating application"

### Где добавлено логгирование:

#### 1. Frontend - Форма создания заявки
**Файл:** `frontend/src/features/application-management/ui/CreateApplicationForm.tsx`

**Что логгируется:**
- Тип ошибки (constructor.name)
- Сообщение ошибки
- HTTP статус ответа
- Данные ответа сервера
- Заголовки ответа
- URL и метод запроса
- Данные запроса
- Полный стек ошибки
- Данные формы на момент ошибки
- Информация о черновике (если применимо)

**Пример логов:**
```
=== ДЕТАЛИ ОШИБКИ СОЗДАНИЯ ЗАЯВКИ ===
Тип ошибки: AxiosError
Сообщение ошибки: Request failed with status code 400
Статус ответа: 400
Данные ответа: { error: "Validation failed" }
...
=== КОНЕЦ ДЕТАЛЬНОГО ЛОГГИРОВАНИЯ ===
```

#### 2. Frontend - API слой
**Файл:** `frontend/src/entities/application/api/applicationApi.ts`

**Функции с логгированием:**
- `create()` - создание новой заявки
- `completeDraft()` - завершение черновика

**Что логгируется:**
- URL запроса
- Данные запроса
- Статус ответа (при успехе)
- Данные ответа (при успехе)
- Детали ошибки (при неудаче)

**Пример логов:**
```
=== API: Отправка запроса на создание заявки ===
URL: /applications
Данные запроса: { status: "completed", ... }

=== API: Ошибка при создании заявки ===
Тип ошибки: AxiosError
Статус: 400
Данные ошибки: { error: "Invalid data" }
```

### Улучшенные сообщения об ошибках для пользователей:

- **400** - "Ошибка валидации данных. Проверьте правильность заполнения формы."
- **401** - "Ошибка авторизации. Войдите в систему заново."
- **403** - "Недостаточно прав для создания заявки."
- **404** - "Сервис недоступен. Обратитесь к администратору."
- **500+** - "Ошибка сервера. Попробуйте позже или обратитесь к администратору."
- **Network Error** - "Ошибка сети. Проверьте подключение к интернету."

### Как использовать логи для диагностики:

1. **Откройте Developer Tools** в браузере (F12)
2. **Перейдите на вкладку Console**
3. **Попробуйте создать заявку** с ошибкой
4. **Найдите блоки логов** начинающиеся с "=== ДЕТАЛИ ОШИБКИ ===" или "=== API: Ошибка ==="
5. **Проанализируйте:**
   - HTTP статус для понимания типа ошибки
   - Данные ответа сервера для конкретных деталей
   - Данные запроса для проверки корректности отправляемых данных
   - Данные формы для проверки состояния UI

### Рекомендации по отладке:

- При ошибках 400 - проверьте данные формы и соответствие API контракту
- При ошибках 401/403 - проверьте авторизацию пользователя
- При ошибках 404 - проверьте доступность backend сервера
- При ошибках 500+ - проверьте логи backend сервера
- При Network Error - проверьте сетевое подключение и CORS настройки